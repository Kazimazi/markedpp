/*!
 * markedpp
 *
 * A preprocessor for markdown files
 *
 * @copyright 2014 commenthol
 * @licence MIT
 *
 * @note Code inspired by `marked` project
 * @credits Christopher Jeffrey <https://github.com/chjj/marked>
 */
(function(e){"use strict";var t={gfm:true,include:true,toc:true,numberedheadings:true,ref:true,breaks:true,tags:true,level:3,minlevel:1,autonumber:true};function n(){return typeof process!=="undefined"&&typeof module!=="undefined"&&module.exports}function i(e,t){e=e.source;t=t||"";return function n(i,r){if(!i)return new RegExp(e,t);r=r.source||r;r=r.replace(/(^|[^\[])\^/g,"$1");e=e.replace(i,r);return n}}function r(){}r.exec=r;function s(e){var t=1,n,i;for(;t<arguments.length;t++){n=arguments[t];for(i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e}function o(e,t){var n=parseInt(e,10);if(isNaN(n)){if(t===true)return;else return e}return n}var p={normalizeArray:function(e,t){var n=0;for(var i=e.length-1;i>=0;i--){var r=e[i];if(r==="."){e.splice(i,1)}else if(r===".."){e.splice(i,1);n++}else if(n){e.splice(i,1);n--}}if(t){for(;n--;n){e.unshift("..")}}return e},resolve:function(){var e="",t=false;for(var n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:"/";if(!i){continue}e=i+"/"+e;t=i.charAt(0)==="/"}e=this.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/");return(t?"/":"")+e||"."},splitPathRe:/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath:function(e){return this.splitPathRe.exec(e).slice(1)},dirname:function(e){var t=this.splitPath(e),n=t[0],i=t[1];if(!n&&!i){return"."}if(i){i=i.substr(0,i.length-1)}return n+i},join:function(){return Array.prototype.slice.call(arguments).join("/")}};var u={_eachLimit:function(e){return function(t,n,i){i=i||function(){};if(!t.length||e<=0){return i()}var r=0;var s=0;var o=0;(function p(){if(r>=t.length){return i()}while(o<e&&s<t.length){s+=1;o+=1;n(t[s-1],function(e){if(e){i(e);i=function(){}}else{r+=1;o-=1;if(r>=t.length){i()}else{p()}}})}})()}},eachLimit:function(e,t,n,i){var r=this._eachLimit(t);r.apply(null,[e,n,i])}};function l(e,t,n){if(typeof t==="function"){n=t;t=null}var i=t?t:{};var r=new XMLHttpRequest,s=i.method||"get",o=typeof i.async!=="undefined"?i.async:true,p=i.data||null,u;r.queryString=p;r.open(s,e,o);r.setRequestHeader("X-Requested-With","XMLHttpRequest");if(s.toLowerCase()=="post"){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}for(u in i.headers){if(i.headers.hasOwnProperty(u)){r.setRequestHeader(u,i.headers[u])}}function l(){if(r.readyState===4){if(/^[20]/.test(r.status)){n(null,r.responseText)}else if(/^[45]/.test(r.status)){n(new Error(r.status))}}}if(o){r.onreadystatechange=l}r.send(p);if(!o)l()}var h;if(n()){h=require("./ppinclude")(c,s)}else{h=function(e,t,n){var i=t.dirname||"/",r={},o=s({},t);if(!o.ppInclude){o.ppInclude={}}u.eachLimit(e,5,function(e,t){if(e.type==="ppinclude"&&typeof e.text==="string"&&!o.ppInclude[e.text]){var n=p.resolve(p.join(p.dirname(location.pathname),i,e.text));var s=location.origin+n;l(s,function(i,s){o.ppInclude[e.text]=1;o.dirname=p.dirname(n);if(i){console.error("Error: "+i.message);return t()}var u=new c(o);h(u.lex(s),o,function(n,i){r[e.text]=i;t()})})}else{t()}},function(t){var i=[];e.forEach(function(e,t){if(e.type==="ppinclude"&&typeof e.text==="string"&&r[e.text]!==undefined){i.push({type:"ppinclude_start",text:e.text,indent:e.indent,lang:e.lang});r[e.text].forEach(function(e){i.push(s({},e))});i.push({type:"ppinclude_end",lang:e.lang})}else{i.push(e)}});n(null,i)})}}var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:r,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*)+(?:\n|$)/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n?|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n/,text:/^[^\n]+/,ppinclude:r,ppnumberedheadings:r,pptoc:r,ppref:r};a.bullet=/(?:[*+-]|\d+\.)/;a.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;a.item=i(a.item,"gm")(/bull/g,a.bullet)();a.list=i(a.list)(/bull/g,a.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+a.def.source+")")();a.blockquote=i(a.blockquote)("def",a.def)();a._tag="(?!(?:[A-Za-z][A-Za-z-]*)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";a.html=i(a.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,a._tag)();a.paragraph=i(a.paragraph)("hr",a.hr)("heading",a.heading)("lheading",a.lheading)("blockquote",a.blockquote)("tag","<"+a._tag)("def",a.def)();a.opts={};a.opts.gfm={fences:/^( *)(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\2 *(?:\n|$)/};var f={_ppopts_:/ ?(?:\(([^\)]+)\))?/,ppinclude:/^( *)(?:\!(?:include)_ppopts_|_ppinclude_|_ppincludeCompat_) *(?:\n|$)/,_ppinclude_:/<!-- *include_ppopts_ *-->(?:(?!<!-- *\/include * -->)[^])*<!-- *\/include * -->/,_ppincludeCompat_:/\!INCLUDE "([^"]+)"/,ppnumberedheadings:/^ *(?:\!(?:numberedheadings)_ppopts_|_ppnumberedheadings_) *(?:\n+|$)/,_ppnumberedheadings_:/<!-- \!*numberedheadings_ppopts_ *-->/,pptoc:/^(?:\!(?:toc)_ppopts_|_pptoc_|_pptocCompat1_|_pptocCompat2_|_pptocCompat3_) *(?:\n+|$)/,_pptoc_:/<!-- *\!toc_ppopts_ *-->(?:(?!<!-- *toc\! * -->)[^])*<!-- *toc\! * -->/,_pptocCompat1_:/\!TOC/,_pptocCompat2_:/<!-- *toc *-->(?:(?!<!-- *\/toc * -->)[^])*<!-- *\/toc * -->/,_pptocCompat3_:/<!-- *toc *-->/,ppref:/^(?:\!(?:ref)|_ppref_|_pprefCompat1_|_pprefCompat2_) *(?:\n|$)/,_ppref_:/<!-- *\!ref *-->(?:(?!<!-- *ref\! * -->)[^])*<!-- *ref\! * -->/,_pprefCompat1_:/\!REF/,_pprefCompat2_:/<!-- *ref *-->(?:(?!<!-- *\/ref * -->)[^])*<!-- \/ref * -->/};f.ppinclude=i(f.ppinclude)("_ppinclude_",f._ppinclude_)("_ppincludeCompat_",f._ppincludeCompat_)("_ppopts_",f._ppopts_)("_ppopts_",f._ppopts_)();f.ppnumberedheadings=i(f.ppnumberedheadings)("_ppnumberedheadings_",f._ppnumberedheadings_)("_ppopts_",f._ppopts_)("_ppopts_",f._ppopts_)();f.pptoc=i(f.pptoc)("_pptoc_",f._pptoc_)("_ppopts_",f._ppopts_)("_ppopts_",f._ppopts_)("_pptocCompat1_",f._pptocCompat1_)("_pptocCompat2_",f._pptocCompat2_)("_pptocCompat3_",f._pptocCompat3_)();f.ppref=i(f.ppref)("_ppref_",f._ppref_)("_pprefCompat1_",f._pprefCompat1_)("_pprefCompat2_",f._pprefCompat2_)();a.opts.include={ppinclude:f.ppinclude};a.opts.numberedheadings={ppnumberedheadings:f.ppnumberedheadings};a.opts.toc={pptoc:f.pptoc};a.opts.ref={ppref:f.ppref};function c(e){this.tokens=[];this.options=e||t;this.rules=a;if(this.options.gfm){s(this.rules,a.opts.gfm)}if(this.options.include){s(this.rules,a.opts.include)}if(this.options.numberedheadings){s(this.rules,a.opts.numberedheadings)}if(this.options.toc){s(this.rules,a.opts.toc)}if(this.options.ref){s(this.rules,a.opts.ref)}}c.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};c.prototype.token=function(e,n){var i,r,s,p,u,l,h,a,f,d,_,m,k=this;while(e){if(i=this.rules.newline.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"space",text:i[0]})}if(i=this.rules.ppinclude.exec(e)){e=e.substring(i[0].length);d=i[2]||i[3]||i[4];m=c.splitOpts(d);d=d.replace(/ *(?:[a-z]+=[a-z0-9\-]+)/,"").replace(/\\ /g," ");this.tokens.push({type:"ppinclude",text:d,indent:i[1],lang:m.lang});continue}if(i=this.rules.code.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"code",text:i[0]});continue}if(i=this.rules.fences.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"fences",indent:i[1],fences:i[2],lang:i[3],text:i[4]});continue}if(i=this.rules.heading.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"heading",depth:i[1].length,text:i[2],raw:i[2]});continue}if(i=this.rules.lheading.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"heading",depth:i[2]==="="?1:2,text:i[1],raw:i[1]});continue}if(i=this.rules.hr.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"hr",text:i[0]});continue}if(i=this.rules.blockquote.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"blockquote_start"});i=i[0].replace(/^ *> ?/gm,"");this.token(i,n);this.tokens.push({type:"blockquote_end"});continue}if(i=this.rules.list.exec(e)){e=e.substring(i[0].length);r=i[2];this.tokens.push({type:"list_start",ordered:r.length>1,start:o(r,true)});i=i[0].match(this.rules.item);s=false;p=i.length;u=0;for(;u<p;u++){l=i[u];r=this.rules.bullet.exec(l)[0];h=l.length;l=l.replace(/^ *([*+-]|\d+\.) +/,"");if(~l.indexOf("\n ")){h-=l.length;l=!this.options.pedantic?l.replace(new RegExp("^ {1,"+h+"}","gm"),""):l.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&u!==p-1){b=this.rules.bullet.exec(i[u+1])[0];if(r!==b&&!(r.length>1&&b.length>1)){e=i.slice(u+1).join("\n")+e;u=p-1}}a=s||/\n\n(?!\s*$)/.test(l);if(u!==p-1){s=l.charAt(l.length-1)==="\n";if(!a)a=s}this.tokens.push({type:a?"loose_item_start":"list_item_start",text:r});this.token(l,false,f);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(i=this.rules.ppnumberedheadings.exec(e)){e=e.substring(i[0].length);m=c.splitOpts(i[1]||i[2]);if(typeof m.omit==="string"){m.omit=[m.omit]}this.tokens.push({type:"ppnumberedheadings",level:c.range(m.level,t.minlevel,6,t.level),minlevel:c.range(m.minlevel,t.minlevel,6),skip:m.skip,start:m.start,omit:m.omit});continue}if(i=this.rules.pptoc.exec(e)){e=e.substring(i[0].length);m=c.splitOpts(i[1]||i[2]);if(typeof m.omit==="string"){m.omit=[m.omit]}this.tokens.push({type:"pptoc",level:c.range(m.level,t.minlevel,6,t.level),minlevel:c.range(m.minlevel,t.minlevel,6),numbered:m.numbered,omit:m.omit});continue}if(i=this.rules.ppref.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"ppref"});continue}if(i=this.rules.html.exec(e)){e=e.substring(i[0].length);this.tokens.push({type:"html",pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]});continue}if(n&&(i=this.rules.def.exec(e))){e=e.substring(i[0].length);this.tokens.push({type:"def",ref:i[1],href:i[2],title:i[3]});continue}if(i=this.rules.text.exec(e)){e=e.substring(i[0].length);d=new g(this.options);this.tokens.push({type:"text",text:i[0],inline:d.lex(i[0])});continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return this.tokens};c.rules=a;c.lex=function(e,t,n){var i=new c(t);var r=i.lex(e);h(r,t,function(e,t){n(e,t)})};c.splitOpts=function(e){var t={},n,i="",r=/^(.+)$/,s=/^([a-z0-9]+)=(.*)$/,o=/^([a-z0-9]+)=(["'])(.*?)\2$/;(e||"").split(" ").forEach(function(e){if(/\\$|^["'].*[^"']$/.test(e)||n&&!n.test(e)){i+=e+" ";return}if(/\=(["']).*[^"']$/.test(e)){n=e.replace(/^.*\=(["']).*[^"']$/,"$1");n=new RegExp(n+"$");i+=e+" ";return}if(i){e=i+e;i="";n=undefined}if(o.test(e)){e.replace(o,function(e,n,i,r){t[n]=r.split(";");t[n]=t[n].map(function(e){var t=parseInt(e,10);if(!isNaN(t)){e=t}return e});if(t[n].length===1){t[n]=t[n][0]}})}else if(s.test(e)){e.replace(s,function(e,n,i){var r=parseInt(i,10);if(!isNaN(r)){i=r}t[n]=i})}else if(r.test(e)){e=e.replace(/\\ /g," ").replace(/^(["'])([^\1]+)\1$/,"$2");if(/^\!(.*)$/.test(e)){e=e.replace(/^\!(.*)$/,"$1");t[e]=false}else{t[e]=true}}});return t};c.range=function(e,t,n,i){if(e<t){return t}else if(e>n){return n}else{if(i&&e===i){return undefined}return e}};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};d.link=i(d.link)("inside",d._inside)("href",d._href)();d.reflink=i(d.reflink)("inside",d._inside)();function g(e){this.tokens=[];this.options=e||t;this.rules=d}g.rules=d;g.lex=function(e,t){var n=new g(t);return n.lex(e)};g.prototype.lex=function(e){var t;while(e){if(t=this.rules.escape.exec(e)){e=e.substring(t[0].length);this.tokens.push({type:"escape",text:t[1]});continue}if(t=this.rules.tag.exec(e)){e=e.substring(t[0].length);this.tokens.push({type:"tag",text:t[0]});continue}if(t=this.rules.link.exec(e)){e=e.substring(t[0].length);this.tokens.push({type:"link",title:t[1],href:t[2]});continue}if((t=this.rules.reflink.exec(e))||(t=this.rules.nolink.exec(e))){e=e.substring(t[0].length);this.tokens.push({type:"reflink",text:t[0]});continue}if(t=this.rules.code.exec(e)){e=e.substring(t[0].length);this.tokens.push({type:"code",text:t[0]});continue}if(t=this.rules.text.exec(e)){e=e.substring(t[0].length);this.tokens.push({type:"text",text:t[0]});continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return this.tokens};function _(e){this._=[0,0,0,0,0,0,0];this.last=1;this._[1]=e?e-1:0}_.prototype.reset=function(e){for(var t=e+1;t<this._.length;t++){this._[t]=0}};_.prototype.val=function(e){var t,n=this._[1];for(t=2;t<=e;t++){n+="."+this._[t]}return n+"\\."};_.prototype.count=function(e){if(e<=6){if(this.last>e){this.reset(e)}this._[e]+=1;this.last=e;return this.val(e)}return};function m(e){this.options=e||{};this._indent=""}m.prototype.heading=function(e,t,n,i){var r="########".substring(0,t);return this._indent+r+" "+e+"\n"};m.prototype.paragraph=function(e){return this._indent+e};m.prototype.newline=function(e){return e};m.prototype.blockquote=function(e){return e.replace(/\n$/,"").replace(/^/gm,"> ")+"\n"};m.prototype.list=function(e,t){return e.replace(/\n$/,"")};m.prototype.listitem=function(e,t){var n,i="";e+=" ";for(n=0;n<e.length;n++){i+=" "}return e+t.replace(/\n(?!\n|$)/gm,"\n"+i)+"\n"};m.prototype.fences=function(e,t,n,i){return this.fence(t,n,i)+e+"\n"+this.fence("",n,i)};m.prototype.reference=function(e,t,n){return this._indent+"["+e+"]: "+t+(n?' "'+n+'"':"")+"\n"};m.prototype.include=function(e,t,n){return this._indent+t+"!include ("+e+(n?" lang="+n:"")+")\n"};m.prototype.fence=function(e,t,n){n=n||"```";t=t||"";return this._indent+t+n+(e?e:"")+"\n"};m.prototype.indent=function(e){this._indent=e};m.sortByTitle=function(e,t){var n=e.title.toLowerCase(),i=t.title.toLowerCase();if(n>i){return 1}else if(n<i){return-1}else{return 0}};m.prototype.referenceId=function(e){return e.toLowerCase().replace(/[^\w]+/g,"-")};m.prototype.references=function(e){var t=[];e.map(function(e){if(!e.title){e.title=e.ref}return e}).sort(m.sortByTitle).forEach(function(e){t.push("* ["+e.title+"]["+e.ref+"]")});if(this.options.tags){return"<!-- !ref -->\n\n"+t.join("\n")+"\n\n<!-- ref! -->\n"}else{return t.join("\n")+"\n"}};m.prototype.tableOfContents=function(e,n){var i=this,r,s,o=[],p=this.joinOpts({level:n.level,minlevel:n.minlevel,numbered:n.numbered,omit:n.omit}),u=new _,l=this.options.breaks?" <br>":"",h=n.level||t.level,a=n.minlevel||t.minlevel;o=e.filter(function(e){if(e.depth<=h&&e.depth>=a){return true}return false}).map(function(e){if(!i.options.numberedHeadings&&n.numbered){e.number=u.count(e.depth-a+1)}return e}).filter(function(e){if(n.omit){if(s){if(e.depth>s){return false}else{s=undefined}}return!n.omit.some(function(t){if(t===e.raw){s=e.depth;return true}return false})}return true}).map(function(e){if(n.numbered){if(i.options.numberedHeadings){return(e.number?e.number+" ":"")+"["+i.sanitizeHeadings(e.raw)+"](#"+i.referenceId(e.text)+")"+l}else{return e.number+" ["+i.sanitizeHeadings(e.text)+"](#"+i.referenceId(e.text)+")"+l}}else{var t="";for(var r=1;r<(e.depth-a+1||1);r++){t+="  "}return t+"* ["+i.sanitizeHeadings(e.text)+"](#"+i.referenceId(e.text)+")"}});if(this.options.tags){return"<!-- !toc "+p+"-->\n\n"+o.join("\n")+"\n\n<!-- toc! -->\n\n"}else{return o.join("\n")+"\n\n"}};m.prototype.numberedHeadings=function(e,t,n,i,r){var s=this.joinOpts({level:e,minlevel:t,skip:n,start:i,omit:r});if(this.options.tags){return"<!-- !numberedheadings "+s+"-->\n\n"}return""};m.prototype.joinOpts=function(e){var t,n,i=[];for(t in e){n=e[t];if(n===true){i.push(t)}else if(n!==undefined){if(Array.isArray(n)){n='"'+n.join(";")+'"'}i.push(t+"="+n)}}if(i.length>0){return"("+i.join(" ")+") "}else{return""}};m.prototype.sanitizeHeadings=function(e){return e.replace(/\[([^\]]*)\]\s*(?:\[[^\]]*\]|\([^\)]*\))/g,"$1")};function k(e){this.tokens=[];this.token=null;this.count=-1;this.indent=[];this.options=e||t;this.options.renderer=this.options.renderer||new m;this.renderer=this.options.renderer;this.renderer.options=this.options}k.prototype.parse=function(e){this.tokens=e;var t="";while(this.next()){t+=this.tok()}return t};k.prototype.next=function(){this.token=this.tokens[this.count+=1];return this.token};k.prototype.peek=function(){return this.tokens[this.count+1]||0};k.prototype.references=function(){var e,t=[],n={title:{},ref:{}};this.tokens.forEach(function(e){if(e.type==="def"&&!/^#/.test(e.href)){if(e.title){n.title[e.ref]=e.title}else{n.ref[e.ref]=e.ref}}});for(e in n.title){t.push({ref:e,title:n.title[e]})}for(e in n.ref){if(!n.title[e]){t.push({ref:e,title:e})}}return t};k.prototype.tableOfContents=function(){return this.tokens.filter(function(e){if(e.type==="heading"){return true}return false})};k.prototype.numberedHeadings=function(e,n,i,r,s){var o=/^([0-9]+\\?\.)+ +/,p={},u=false,l=new _(r);i=i||0;(s||[]).forEach(function(e){p[e]=true});e=e||t.level;n=n||t.minlevel;this.tokens=this.tokens.map(function(t){if(t.type==="heading"){t.text=t.text.replace(o,"");t.raw=t.raw.replace(o,"");if(t.depth===n){if(i>0){i-=1;u=true}else if(i===0){u=false}}if(!u&&!p[t.raw]&&t.depth<=e&&t.depth>=n){t.number=l.count(t.depth-n+1);t.text=t.number+" "+t.text}}return t})};k.prototype.tok=function(e){var t,n,i,r,s;e=e||{};switch(this.token.type){case"space":{return this.renderer.newline(this.token.text)}case"code":case"hr":case"html":case"paragraph":case"text":{return this.renderer.paragraph(this.token.text)}case"heading":{return this.renderer.heading(this.token.text,this.token.depth,this.token.raw,this.token.number)}case"fences":{return this.renderer.fences(this.token.text,this.token.lang,this.token.indent,this.token.fences)}case"def":{return this.renderer.reference(this.token.ref,this.token.href,this.token.title)}case"blockquote_start":{n="";while(this.next().type!=="blockquote_end"){n+=this.tok()}return this.renderer.blockquote(n)}case"list_start":{n="";s=this.token.ordered;r=this.token.start;while(this.next().type!=="list_end"){if(this.options.autonumber&&s){t={start:r++}}n+=this.tok(t)}return this.renderer.list(n,s)}case"list_item_start":{n="";i=this.token.text;if(e.start){i=e.start+"."}while(this.next().type!=="list_item_end"){n+=this.tok()}return this.renderer.listitem(i,n)}case"loose_item_start":{n="";i=this.token.text;if(e.start){i=e.start+"."}while(this.next().type!=="list_item_end"){n+=this.tok()}return this.renderer.listitem(i,n)}case"ppnumberedheadings":{this.options.numberedHeadings=true;this.numberedHeadings(this.token.level,this.token.minlevel,this.token.skip,this.token.start,this.token.omit);return this.renderer.numberedHeadings(this.token.level,this.token.minlevel,this.token.skip,this.token.start,this.token.omit)}case"ppref":{return this.renderer.references(this.references())}case"ppinclude_start":{n="";this.indent.push(this.token.indent);this.renderer.indent(this.indent.join(""));if(typeof this.token.lang==="string"){n=this.renderer.fence(this.token.lang)}return n}case"ppinclude_end":{n="";if(typeof this.token.lang==="string"){n=this.renderer.fence()}this.indent.pop();this.renderer.indent(this.indent.join(""));return n}case"ppinclude":{return this.renderer.include(this.token.text,this.token.indent,this.token.lang)}case"pptoc":{return this.renderer.tableOfContents(this.tableOfContents(),this.token)}default:{return"<!-- "+JSON.stringify(this.token)+" -->\n"}}};k.parse=function(e,t){var n=new k(t);return n.parse(e)};function y(e,n,i){if(typeof n==="function"){i=n;n=null}n=s({},t,n||{});c.lex(e,n,function(e,t){var r=k.parse(t,n);i(null,r)})}y.defaults=t;y.Lexer=c;y.merge=s;y.setOptions=function(e){s(t,e);return y};if(n()){module.exports=y}else if(typeof define!=="undefined"&&define.amd){define([],function(){return y})}else if(typeof e.Window!=="undefined"&&!e[y]){e.markedpp=y}})(this);